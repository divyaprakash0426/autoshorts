# ========================================
# Short Generation Core Settings
# ========================================

TARGET_RATIO_W=9              # Width part of target aspect ratio
TARGET_RATIO_H=16             # Height part (9:16 for TikTok/Shorts/Reels)
SCENE_LIMIT=6                 # Maximum clips per source video
X_CENTER=0.5                  # Horizontal crop center [0.0-1.0]
Y_CENTER=0.5                  # Vertical crop center [0.0-1.0]
MAX_ERROR_DEPTH=3             # Retry attempts for failed renders
MIN_SHORT_LENGTH=0            # Minimum clip duration (0=auto based on video length)
MAX_SHORT_LENGTH=0            # Maximum clip duration (0=auto based on video length)
MAX_COMBINED_SCENE_LENGTH=0   # Max combined scene length (0=auto based on video/scene limit)

# ========================================
# AI Provider Configuration
# ========================================

# Provider selection: gemini, openai, or local (no API calls)
AI_PROVIDER=openai

# Enable/disable AI analysis (set to false for pure heuristic mode)
AI_ANALYSIS_ENABLED=true

# API Keys (set the one matching your AI_PROVIDER)
GEMINI_API_KEY=your-gemini-api-key
OPENAI_API_KEY=your-openai-api-key

# Model selection
# Free tier limits (daily):
#   1M tokens: gpt-5.2, gpt-5.1, gpt-5, gpt-4.1, gpt-4o, o1, o3
#   10M tokens: gpt-5-mini, gpt-4o-mini, gpt-4.1-mini, o1-mini, o3-mini, o4-mini
# Recommendation: gpt-5-mini has vision on par with GPT-5, with 10x more free tokens!
GEMINI_MODEL=gemini-2.0-flash
OPENAI_MODEL=gpt-5-mini

# Model for caption tagging/enhancement (text-only, uses mini model for efficiency)
OPENAI_TAGGING_MODEL=gpt-5-mini

# AI scoring weight (0.0-1.0, higher = more weight on AI score vs heuristic)
AI_SCORE_WEIGHT=0.7

# ========================================
# Semantic Analysis Settings
# ========================================

# Semantic types detected (all enabled by default):
#   action    - Combat, kills, intense gameplay, close calls
#   funny     - Fails, glitches, unexpected humor, comedic timing
#   clutch    - 1vX situations, comebacks, last-second wins
#   wtf       - Unexpected events, "wait what?" moments, random chaos
#   epic_fail - Embarrassing deaths, tragic blunders, game-losing mistakes
#   hype      - Celebrations, "LET'S GO" energy, peak excitement
#   skill     - Trick shots, IQ plays, advanced mechanics, impressive techniques
#
# The AI always analyzes all types and returns the best match per clip.

# Number of candidate clips to send to AI for analysis
# - Set to 0 (default) for SMART AUTO mode - system calculates optimal count based on:
#   * Video duration (longer videos = more candidates)
#   * Number of scenes detected (more scenes = larger candidate pool)
#   * Target output count (SCENE_LIMIT)
#   Formula: 4x SCENE_LIMIT + duration bonus, capped at 50 clips max
#   Example: 10min video, 6 outputs â†’ ~26 candidates
#            60min video, 6 outputs â†’ ~34 candidates
#            90min video, 6 outputs â†’ ~39 candidates
# - Set to specific number (e.g., 30) to override auto mode
CANDIDATE_CLIP_COUNT=0

# Duration of each candidate clip in seconds (shorter = cheaper API calls)
CANDIDATE_CLIP_DURATION=120


# ========================================
# Subtitle Settings
# ========================================

# Enable/disable subtitle generation
ENABLE_SUBTITLES=true

# Subtitle mode:
#   speech      - Use Whisper to transcribe voice/commentary
#   ai_captions - Use AI to generate contextual captions (for gameplay without voice)
#   none        - Skip subtitle generation entirely
SUBTITLE_MODE=ai_captions

# Whisper model (for speech mode): tiny, base, small, medium, large
WHISPER_MODEL=medium

# AI Caption settings (for ai_captions mode)
# Style options:
#   gaming          - "HEADSHOT!", "GG EZ", punchy gaming captions
#   dramatic        - "The final stand.", cinematic captions
#   funny           - "skill issue tbh", meme-style captions
#   minimal         - "nice.", understated captions
#   genz            - "bruh ðŸ’€", "no cap", slang-heavy GenZ reactions (NEW)
#   story_news      - Professional esports broadcaster narrative (NEW)
#   story_roast     - Sarcastic roasting commentary (NEW)
#   story_creepypasta - Horror/tension narrative (NEW)
#   story_dramatic  - Epic cinematic narration (NEW)
#   auto            - Automatically match style to detected category (recommended)
CAPTION_STYLE=auto
MAX_CAPTIONS=8                # Maximum captions per clip (dynamically adjusted based on video length)
                              # - Short clips (6s): ~2-3 captions
                              # - Medium clips (18s): ~7-8 captions  
                              # - Long clips (60s): ~8 captions (capped at MAX_CAPTIONS)
                              # - Story modes: ~1 caption per 12 seconds

# PyCaps Template
# Available: default, vibrant, model, word-focus, hype, line-focus,
#            retro-gaming, neo-minimal, minimalist, classic, fast, explosive
PYCAPS_TEMPLATE=hype

# ========================================
# AI Caption Enhancement (Local AI Tagging)
# Uses your existing OpenAI/Gemini API
# ========================================

# Enable/disable AI caption enhancement (semantic tagging + emojis)
ENABLE_AI_CAPTION_ENHANCEMENT=true

# Add AI-suggested emojis to captions (e.g., "HEADSHOT! ðŸ’€ðŸ”¥")
ENABLE_CAPTION_EMOJIS=true

# ========================================
# TTS Voiceover Settings (Qwen3-TTS)
# ========================================

# Enable/disable AI voiceover generation
ENABLE_TTS=true

# TTS model: qwen (Qwen3-TTS VoiceDesign)
TTS_MODEL=qwen

# Device for TTS inference: cuda, cpu
TTS_DEVICE=cuda

# Language for TTS (Qwen supports: en, zh, ja, ko, de, fr, ru, pt, es, it)
TTS_LANGUAGE=en

# Voice description for TTS (leave empty for auto-generated based on category)
# Example: "A young energetic male esports caster, hyped and intense"
# If set, this overrides preset selection and uses this description for all clips
TTS_VOICE_DESCRIPTION=

# Audio mixing settings
TTS_GAME_AUDIO_VOLUME=0.3     # Lower game audio when voiceover plays
TTS_VOICEOVER_VOLUME=1.0      # Voiceover volume

# ========================================
# Decord Video Loader Settings
# ========================================

DECORD_EOF_RETRY_MAX=65536    # Retry attempts for EOF issues
DECORD_SKIP_TAIL_FRAMES=0     # Frames to skip at end (try 180-300 if hanging)

# ========================================
# Debug Variables (uncomment to enable)
# ========================================

# DEBUG_SKIP_ANALYSIS=1
# DEBUG_SKIP_RENDER=1
# DEBUG_RENDERED_CLIPS="path1:category,path2"
